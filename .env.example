# Environment configuration for VoiceOffers Coupon Platform
# Copy this file to ".env" and set required secrets.

# --- Required secrets ---
OPENAI_API_KEY=YOUR_OPENAI_API_KEY_HERE

# --- Supabase Authentication ---
SUPABASE_URL=https://YOUR_PROJECT_ID.supabase.co
SUPABASE_KEY=YOUR_SUPABASE_ANON_KEY
SUPABASE_JWT_SECRET=YOUR_SUPABASE_JWT_SECRET

# --- Optional OpenAI overrides ---
# OPENAI_API_BASE=https://api.openai.com/v1

# --- STT configuration ---
STT_PROVIDER=openai
STT_MODEL=whisper-1

# --- Embeddings / retrieval ---
EMBEDDING_MODEL=text-embedding-3-small
FTS_TOP_K=15
RERANK_TOP_N=3
CONFIDENCE_THRESHOLD=0.65

# --- Paths ---
DATA_DIR=./data
# Database configuration (PostgreSQL required)
# Local development with Docker:
DATABASE_URL=postgresql://postgres:dev@localhost:5432/voiceoffers
# Heroku will automatically override DATABASE_URL with their PostgreSQL connection string
FAISS_INDEX_PATH=./data/index/faiss.index
FAISS_META_PATH=./data/index/meta.json

# --- Upload / audio constraints ---
MAX_AUDIO_SECONDS=8
MAX_UPLOAD_MB=10
ALLOWED_AUDIO_MIME=audio/webm,audio/wav,audio/mp3,audio/m4a

# --- Server ---
APP_HOST=0.0.0.0
APP_PORT=8000
LOG_LEVEL=INFO

# --- Tuning / misc ---
ENABLE_TIMING_LOGS=true
